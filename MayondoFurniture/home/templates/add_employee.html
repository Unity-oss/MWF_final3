{% extends 'base.html' %}

{% block title %}Add Employee - MWF{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
  <header class="text-center mb-8">
    <h1 class="text-3xl text-gray-800">Add New Employee</h1>
  </header>

  <form method="post" action="{% url 'addEmployee' %}" class="employee-form" novalidate>
    {% csrf_token %}
    {% include 'forms/employee_form.html' %}
  </form>
</div>

<!-- Employee Form JavaScript -->
<script>
  // Employee form enhancement (without validation to allow Django errors to show)
  document.addEventListener('DOMContentLoaded', function() {
    
    // Username formatting (allow only valid username characters)
    const username = document.getElementById('username');
    if (username) {
      username.addEventListener('input', function() {
        // Remove spaces and invalid characters for username
        this.value = this.value.replace(/[^a-zA-Z0-9._@+-]/g, '');
      });
    }
    
    // Remove any HTML5 validation attributes that might have been added
    const form = document.querySelector('.employee-form');
    if (form) {
      const inputs = form.querySelectorAll('input');
      inputs.forEach(input => {
        input.removeAttribute('required');
        input.removeAttribute('pattern');
        input.removeAttribute('minlength');
        input.removeAttribute('maxlength');
      });
    }
  });
</script>
{% endblock %}